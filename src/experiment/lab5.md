---
title: 5. 控制冒险和分支预测
icon: tag
headerDepth: 3
---

## 目标
- 了解控制冒险与分支预测
- 了解动态分支预测
- 使用BTB优化程序
- 了解循环展开，对比BTB

## 内容
1. 针对矩阵乘法的代码，开启BTB功能，观察流水线细节，分析BTB的功能
2. 设计一段BTB脱敏的代码
优化程序
- 了解循环展开，对比BTB

## 内容
1. 针对矩阵乘法的代码，开启BTB功能，观察流水线细节，分析BTB的功能
2. 设计一段BTB脱敏的代码
3. 使用循环展开，对比采用BTB。
4. x86上编写c程序-矩阵乘法，使用perf观察分支预测失败次数。
验证次数。是否吻合。
继续编写令BTB失效的代码，验证x86能否正常预测，尝试做出解释。

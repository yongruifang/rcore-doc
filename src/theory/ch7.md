---
title: 7. 五阶段
icon: hashtag
description: 五级流水线
tag: riscv
---

## 1. 取指令

## 2. 指令译码 
需要指令集架构发挥作用了。
指令集作为硬件和软件的接口，定义CPU的处理内容和机器语言的对应规则。

RISC-V定义了几种指令格式。

每条指令用32位描述。

1. 指令类型的译码

2. 操作数

译码处理的简化：
1. 指令集的长度
2. 操作数的位址 

## 3. 执行运算 
根据译码结果，在EX阶段进行加减乘除

## 4. 访存
执行存储器的写入或者读取。
在RISC-V中，对数据存储器的访问仅限于lw和sw指令，算术运算和移位运算不能访存。
因此，处理存储器中的数据时，需要依次执行加载指令和运算指令。

对于访存的加载/存储指令，存储器地址在EX阶段进行，在MEM阶段，根据EX阶段计算出来的存储器地址进行执行。

## 5. 回写 
将运算结果和从存储器加载的数据写入到寄存器中。
使用该寄存器数据执行下一个循环的指令。





